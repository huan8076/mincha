{"version":3,"file":"QHeader-3_48rFM4.js","sources":["../../node_modules/.pnpm/quasar@2.18.1/node_modules/quasar/src/components/toolbar/QToolbarTitle.js","../../node_modules/.pnpm/quasar@2.18.1/node_modules/quasar/src/components/header/QHeader.js"],"sourcesContent":["import { h, computed } from 'vue'\n\nimport { createComponent } from '../../utils/private.create/create.js'\nimport { hSlot } from '../../utils/private.render/render.js'\n\nexport default createComponent({\n  name: 'QToolbarTitle',\n\n  props: {\n    shrink: Boolean\n  },\n\n  setup (props, { slots }) {\n    const classes = computed(() =>\n      'q-toolbar__title ellipsis'\n      + (props.shrink === true ? ' col-shrink' : '')\n    )\n\n    return () => h('div', { class: classes.value }, hSlot(slots.default))\n  }\n})\n","import { h, ref, computed, watch, onBeforeUnmount, inject, getCurrentInstance } from 'vue'\n\nimport QResizeObserver from '../resize-observer/QResizeObserver.js'\n\nimport { createComponent } from '../../utils/private.create/create.js'\nimport { hUniqueSlot } from '../../utils/private.render/render.js'\nimport { layoutKey, emptyRenderFn } from '../../utils/private.symbols/symbols.js'\n\nexport default createComponent({\n  name: 'QHeader',\n\n  props: {\n    modelValue: {\n      type: Boolean,\n      default: true\n    },\n    reveal: Boolean,\n    revealOffset: {\n      type: Number,\n      default: 250\n    },\n    bordered: Boolean,\n    elevated: Boolean,\n\n    heightHint: {\n      type: [ String, Number ],\n      default: 50\n    }\n  },\n\n  emits: [ 'reveal', 'focusin' ],\n\n  setup (props, { slots, emit }) {\n    const { proxy: { $q } } = getCurrentInstance()\n\n    const $layout = inject(layoutKey, emptyRenderFn)\n    if ($layout === emptyRenderFn) {\n      console.error('QHeader needs to be child of QLayout')\n      return emptyRenderFn\n    }\n\n    const size = ref(parseInt(props.heightHint, 10))\n    const revealed = ref(true)\n\n    const fixed = computed(() =>\n      props.reveal === true\n      || $layout.view.value.indexOf('H') !== -1\n      || ($q.platform.is.ios && $layout.isContainer.value === true)\n    )\n\n    const offset = computed(() => {\n      if (props.modelValue !== true) {\n        return 0\n      }\n      if (fixed.value === true) {\n        return revealed.value === true ? size.value : 0\n      }\n      const offset = size.value - $layout.scroll.value.position\n      return offset > 0 ? offset : 0\n    })\n\n    const hidden = computed(() => props.modelValue !== true\n      || (fixed.value === true && revealed.value !== true)\n    )\n\n    const revealOnFocus = computed(() =>\n      props.modelValue === true && hidden.value === true && props.reveal === true\n    )\n\n    const classes = computed(() =>\n      'q-header q-layout__section--marginal '\n      + (fixed.value === true ? 'fixed' : 'absolute') + '-top'\n      + (props.bordered === true ? ' q-header--bordered' : '')\n      + (hidden.value === true ? ' q-header--hidden' : '')\n      + (props.modelValue !== true ? ' q-layout--prevent-focus' : '')\n    )\n\n    const style = computed(() => {\n      const\n        view = $layout.rows.value.top,\n        css = {}\n\n      if (view[ 0 ] === 'l' && $layout.left.space === true) {\n        css[ $q.lang.rtl === true ? 'right' : 'left' ] = `${ $layout.left.size }px`\n      }\n      if (view[ 2 ] === 'r' && $layout.right.space === true) {\n        css[ $q.lang.rtl === true ? 'left' : 'right' ] = `${ $layout.right.size }px`\n      }\n\n      return css\n    })\n\n    function updateLayout (prop, val) {\n      $layout.update('header', prop, val)\n    }\n\n    function updateLocal (prop, val) {\n      if (prop.value !== val) {\n        prop.value = val\n      }\n    }\n\n    function onResize ({ height }) {\n      updateLocal(size, height)\n      updateLayout('size', height)\n    }\n\n    function onFocusin (evt) {\n      if (revealOnFocus.value === true) {\n        updateLocal(revealed, true)\n      }\n\n      emit('focusin', evt)\n    }\n\n    watch(() => props.modelValue, val => {\n      updateLayout('space', val)\n      updateLocal(revealed, true)\n      $layout.animate()\n    })\n\n    watch(offset, val => {\n      updateLayout('offset', val)\n    })\n\n    watch(() => props.reveal, val => {\n      val === false && updateLocal(revealed, props.modelValue)\n    })\n\n    watch(revealed, val => {\n      $layout.animate()\n      emit('reveal', val)\n    })\n\n    watch($layout.scroll, scroll => {\n      props.reveal === true && updateLocal(revealed,\n        scroll.direction === 'up'\n        || scroll.position <= props.revealOffset\n        || scroll.position - scroll.inflectionPoint < 100\n      )\n    })\n\n    const instance = {}\n\n    $layout.instances.header = instance\n    props.modelValue === true && updateLayout('size', size.value)\n    updateLayout('space', props.modelValue)\n    updateLayout('offset', offset.value)\n\n    onBeforeUnmount(() => {\n      if ($layout.instances.header === instance) {\n        $layout.instances.header = void 0\n        updateLayout('size', 0)\n        updateLayout('offset', 0)\n        updateLayout('space', false)\n      }\n    })\n\n    return () => {\n      const child = hUniqueSlot(slots.default, [])\n\n      props.elevated === true && child.push(\n        h('div', {\n          class: 'q-layout__shadow absolute-full overflow-hidden no-pointer-events'\n        })\n      )\n\n      child.push(\n        h(QResizeObserver, {\n          debounce: 0,\n          onResize\n        })\n      )\n\n      return h('header', {\n        class: classes.value,\n        style: style.value,\n        onFocusin\n      }, child)\n    }\n  }\n})\n"],"names":["QToolbarTitle","createComponent","props","slots","classes","computed","h","hSlot","QHeader","emit","$q","getCurrentInstance","$layout","inject","layoutKey","emptyRenderFn","size","ref","revealed","fixed","offset","hidden","revealOnFocus","style","view","css","updateLayout","prop","val","updateLocal","onResize","height","onFocusin","evt","watch","scroll","instance","onBeforeUnmount","child","hUniqueSlot","QResizeObserver"],"mappings":"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","x_google_ignoreList":[0,1]}
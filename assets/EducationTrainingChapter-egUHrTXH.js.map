{"version":3,"file":"EducationTrainingChapter-egUHrTXH.js","sources":["../../src/views/educationTraining/components/EducationTrainingChapterStep.vue","../../src/views/educationTraining/EducationTrainingChapter.vue"],"sourcesContent":["<template>\n  <div id=\"educationTrainingChapterStep\">\n    <div class=\"header\">\n      <q-toolbar>\n        <q-toolbar-title class=\"text-left step__title\">\n          全步驟({{ stepList.length }})\n        </q-toolbar-title>\n        <q-icon name=\"close\" size=\"38px\" @click=\"onClose\" />\n      </q-toolbar>\n    </div>\n    <div class=\"educationTrainingChapterStep__content\">\n      <div class=\"step__list\">\n        <div\n          v-for=\"(step, index) in stepList\"\n          :key=\"step.id\"\n          :class=\"['step__item', { 'step__item--active': index <= stepIndex }]\"\n        >\n          <div class=\"step__item__indexLine\">\n            {{ index + 1 }}\n          </div>\n          <div class=\"step__item__text\">\n            {{ step.step }}\n          </div>\n        </div>\n      </div>\n    </div>\n  </div>\n</template>\n\n<script setup lang=\"ts\">\nimport { defineProps, defineEmits } from 'vue'\nimport { Step } from '@/types/EducationTrainingTypes'\n\ndefineProps<{\n  stepIndex: number\n  stepList: Step[]\n}>()\nconst emit = defineEmits(['close'])\n\nconst onClose = (): void => {\n  emit('close')\n}\n</script>\n\n<style scoped lang=\"scss\">\n#educationTrainingChapterStep {\n  width: 100%;\n  height: 100vh;\n  background-color: $SystemGray;\n}\n.header {\n  .step__title {\n    color: $SystemPrimary;\n    font-weight: bold;\n  }\n  .q-icon {\n    color: $SystemPrimary;\n  }\n}\n.educationTrainingChapterStep__content {\n  height: calc(100vh - 50px);\n  overflow-y: auto;\n}\n.step__list {\n  padding: 10px 20px;\n}\n.step__item {\n  display: flex;\n  align-items: center;\n  padding: 12px 0;\n  cursor: pointer;\n\n  &__indexLine {\n    position: relative;\n    width: 40px;\n    height: 40px;\n    display: flex;\n    flex: 0 0 40px; // 固定寬度為 40px，且不會被壓縮\n    justify-content: center;\n    align-items: center;\n    background-color: $SystemWhite; // 白底\n    color: $SystemPrimary; // 藍字\n    font-size: 16px;\n    font-weight: bold;\n    border: 1px solid $SystemPrimary;\n    border-radius: 50%;\n\n    &::before {\n      content: '';\n      display: block;\n      position: absolute;\n      margin: 0 auto;\n      top: -13px;\n      width: 2px;\n      height: 12px;\n      background-color: $SystemPrimary;\n    }\n    &::after {\n      content: '';\n      display: block;\n      position: absolute;\n      margin: 0 auto;\n      bottom: -13px;\n      width: 2px;\n      height: 12px;\n      background-color: $SystemPrimary;\n    }\n  }\n\n  // 第一個項目不顯示 ::before\n  &:first-child .step__item__indexLine::before {\n    display: none;\n  }\n\n  // 最後一個項目不顯示 ::after\n  &:last-child .step__item__indexLine::after {\n    display: none;\n  }\n\n    // 狀態：active\n  &--active .step__item__indexLine{\n    background-color: $SystemPrimary; // 藍底\n    color: $SystemWhite; // 白字\n    border: 1px solid $SystemPrimary;\n  }\n\n  &__text {\n    flex: 1; // 讓文字區域自動填滿剩餘空間\n    margin-left: 20px;\n    font-size: 16px;\n    word-break: break-word; // 避免文字過長時溢出\n  }\n}\n</style>","<template>\n  <q-page-container id=\"educationTrainingChapter\">\n    <q-header class=\"\">\n      <q-toolbar>\n        <q-toolbar-title class=\"text-left\">\n          {{ chapterData?.chapter ?? '' }}\n        </q-toolbar-title>\n        <q-icon name=\"close\" size=\"38px\" @click=\"router.back()\" />\n      </q-toolbar>\n    </q-header>\n    <div class=\"educationTrainingChapter__content page\">\n      <div class=\"content__image\">\n        <img src=\"@/assets/images/login/login_top_img.png\" />\n      </div>\n      <div class=\"content__wrapper\">\n        <div class=\"content__step\" @click=\"showStep = true\">\n          <p>\n            全步驟({{ chapterData?.stepList.length }})\n          </p>\n        </div>\n        <div class=\"content__index\">\n          {{ stepIndex + 1 }}\n        </div>\n        <div class=\"content__intro\">\n          <div class=\"content__intro__title\">\n            {{ chapterData?.stepList[stepIndex].step ?? '' }}\n          </div>\n          <div class=\"content__intro__text\">\n            {{ chapterData?.stepList[stepIndex].description ?? '' }}\n          </div>\n        </div>\n      </div>\n    </div>\n    <div class=\"footer__wrapper\">\n      <div class=\"footer__button\">\n        <div class=\"btn btn-Outline btn-Rounded\" @click=\"onPreviousStep\">\n          {{ stepIndex > 0 ? '上一步' : '回教育訓練' }}\n        </div>\n        <div class=\"btn btn-Filled btn-Rounded\" @click=\"onNextStep\">\n          {{ stepIndex < (chapterData?.stepList.length ?? 0) - 1 ? '下一步' : '結束' }}\n        </div>\n      </div>\n    </div>\n  </q-page-container>\n  <q-dialog v-model=\"showStep\" allow-focus-outside maximized position=\"bottom\">\n    <education-training-chapter-step\n      :step-index=\"stepIndex\"\n      :step-list=\"chapterData?.stepList ?? []\"\n      @close=\"onCloseDialog\"\n    />\n  </q-dialog>\n</template>\n\n<script setup lang=\"ts\">\nimport { useRouter } from 'vue-router'\nimport EducationTrainingChapterStep from './components/EducationTrainingChapterStep.vue'\nimport educationTrainingData from '@/assets/jsonData/educationTraining.json'\nimport { Course, Chapter } from '@/types/EducationTrainingTypes'\n\nconst router = useRouter()\nconst route = useRoute()\n\nconst courseId = Number(route.params.courseId)\nconst chapterId = Number(route.params.chapterId)\n\n// 篩選對應的課程資料\nconst courseData = ref<Course | undefined>(\n  educationTrainingData.find((course) => course.id === courseId)\n)\n\n// 從 courseData 中篩選對應的章節資料\nconst chapterData = computed<Chapter | undefined>(() => {\n  if (!courseData.value || !courseData.value.chapterList) {\n    return undefined\n  }\n  return courseData.value.chapterList.find((chapter) => chapter.id === chapterId)\n})\n\nconst showStep = ref(false) // 是否顯示步驟彈跳視窗\n\nconst onCloseDialog = (): void => {\n  showStep.value = false\n}\n\nconst stepIndex = ref(0) // 當前步驟索引\nconst onNextStep = (): void => {\n  if (stepIndex.value < (chapterData.value?.stepList.length ?? 0) - 1) {\n    stepIndex.value++\n  } else {\n    router.back()\n  }\n}\nconst onPreviousStep = (): void => {\n  if (stepIndex.value > 0) {\n    stepIndex.value--\n  } else {\n    router.back()\n  }\n}\n</script>\n\n<style lang=\"scss\" scoped>\n#educationTrainingChapter {\n  padding-bottom: 80px;\n}\n\n.content__image {\n  position: relative;\n  background-color: $SystemWhite;\n  z-index: 2;\n  img {\n    display: block;\n    width: 100%;\n    object-fit: cover;\n  }\n}\n.content__wrapper {\n  position: relative;\n  display: flex;\n  padding: 40px 0 20px 0;\n  z-index: 1;\n}\n.content__step{\n  position: absolute;\n  top: -12px;\n  right: 5px;\n  padding: 4px;\n  cursor: pointer;\n\n  p {\n    padding: 4px 0;\n    font-size: 13px;\n    color: $SystemPrimary;\n  }\n\n  &::before {\n    content: '';\n    display: block;\n    width: 100%;\n    height: 15px;\n    background-color: $SystemPrimary;\n    border-radius: 50em;\n  }\n\n  &:active {\n    opacity: 0.8;\n  }\n}\n\n.content__index {\n  width: 15%;\n  min-width: 50px;\n  max-width: 200px;\n  font-size: 40px;\n  font-weight: bold;\n  text-align: center;\n}\n.content__intro {\n  padding-right: 20px;\n\n  &__title {\n    font-size: 20px;\n    padding: 10px 0;\n    margin-bottom: 10px;\n  }\n\n  &__text {\n    font-size: 16px;\n  }\n}\n.footer__wrapper {\n  position: absolute;\n  bottom: 0;\n  left: 0;\n  width: 100%;\n  height: 80px;\n  background-color: $SystemWhite;\n  border-top: 1px solid #CCC;\n  display: flex;\n  justify-content: center;\n  align-items: center;\n  padding: 0 20px;\n}\n.footer__button {\n  display: flex;\n  justify-content: space-around;\n  align-items: center;\n  width: 100%;\n  max-width: 600px;\n\n  .btn {\n    width: 150px;\n  }\n}\n</style>"],"names":["emit","__emit","onClose","router","useRouter","route","useRoute","courseId","chapterId","courseData","ref","educationTrainingData","course","chapterData","computed","chapter","showStep","onCloseDialog","stepIndex","onNextStep","_a","onPreviousStep"],"mappings":"4tBAqCA,MAAMA,EAAOC,EAEPC,EAAU,IAAY,CAC1BF,EAAK,OAAO,CAAA,23BCmBd,MAAMG,EAASC,IACTC,EAAQC,IAERC,EAAW,OAAOF,EAAM,OAAO,QAAQ,EACvCG,EAAY,OAAOH,EAAM,OAAO,SAAS,EAGzCI,EAAaC,EACjBC,EAAsB,KAAMC,GAAWA,EAAO,KAAOL,CAAQ,CAAA,EAIzDM,EAAcC,EAA8B,IAAM,CACtD,GAAI,GAACL,EAAW,OAAS,CAACA,EAAW,MAAM,aAGpC,OAAAA,EAAW,MAAM,YAAY,KAAMM,GAAYA,EAAQ,KAAOP,CAAS,CAAA,CAC/E,EAEKQ,EAAWN,EAAI,EAAK,EAEpBO,EAAgB,IAAY,CAChCD,EAAS,MAAQ,EAAA,EAGbE,EAAYR,EAAI,CAAC,EACjBS,EAAa,IAAY,OACzBD,EAAU,SAASE,EAAAP,EAAY,QAAZ,YAAAO,EAAmB,SAAS,SAAU,GAAK,EACtDF,EAAA,QAEVf,EAAO,KAAK,CACd,EAEIkB,EAAiB,IAAY,CAC7BH,EAAU,MAAQ,EACVA,EAAA,QAEVf,EAAO,KAAK,CACd"}